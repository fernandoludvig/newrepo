<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Inventory Item</title>
    <link rel="stylesheet" href="/styles.css">
    <script>
        // Client-side validation
        function validateForm() {
            const make = document.getElementById("inv_make").value;
            const model = document.getElementById("inv_model").value;
            const year = document.getElementById("inv_year").value;
            const classification = document.getElementById("classificationList").value;

            if (!make || !model || !year || !classification) {
                alert("All fields are required.");
                return false;
            }
            return true;
        }
    </script>
</head>
<body>
    <header>
        <h1>Edit Inventory Item</h1>
    </header>

    <main>
        <% if (messages.length > 0) { %>
            <div class="flash-message">
                <%= messages[0] %>
            </div>
        <% } %>

        <form action="/inv/update" method="POST" onsubmit="return validateForm();">
            <label for="inv_make">Make:</label>
            <input type="text" id="inv_make" name="inv_make" value="<%= inv_make %>" required>

            <label for="inv_model">Model:</label>
            <input type="text" id="inv_model" name="inv_model" value="<%= inv_model %>" required>

            <label for="inv_year">Year:</label>
            <input type="number" id="inv_year" name="inv_year" min="1900" max="2024" value="<%= inv_year %>" required>

            <label for="classificationList">Classification:</label>
            <%= classificationList %>

            <label for="inv_image">Image Path:</label>
            <input type="text" id="inv_image" name="inv_image" value="/images/no-image.png" required>

            <label for="inv_thumbnail">Thumbnail Path:</label>
            <input type="text" id="inv_thumbnail" name="inv_thumbnail" value="/images/no-image-thumbnail.png" required>

            <!-- Hidden input for inventory ID -->
            <input type="hidden" name="inv_id"
            <% if (inv_id) { %> value="<%= inv_id %>"
            <% } %>>

            <button type="submit">Update Vehicle</button>
        </form>

        <% if (errorMessages.length > 0) { %>
            <div class="error-message">
                <ul>
                    <% errorMessages.forEach(function(message) { %>
                        <li><%= message %></li>
                    <% }); %>
                </ul>
            </div>
        <% } %>
    </main>
</body>
</html>
